// ═══════════════════════════════════════════════════════════════
// Автоматически сгенерированный код
// AI-1C-Code-Generation-Benchmark
// ═══════════════════════════════════════════════════════════════
//
// Задача: A4 - Парсинг JSON-строки
// Модель: Claude Opus 4.5 (anthropic/claude-opus-4.5)
// Прогон: 1
// Temperature: 0.0
// Hash: be669555991c4b2c4dcbe517b00c0192
// Время: 2026-02-05T23:29:49.158383
//
// ═══════════════════════════════════════════════════════════════

```1c
Функция РазобратьJSON(СтрокаJSON)
    
    Попытка
        ЧтениеJSON = Новый ЧтениеJSON;
        ЧтениеJSON.УстановитьСтроку(СтрокаJSON);
        
        Результат = ПрочитатьJSON(ЧтениеJSON);
        
        ЧтениеJSON.Закрыть();
        
        Возврат Результат;
    Исключение
        Возврат Неопределено;
    КонецПопытки;
    
КонецФункции

Функция ПрочитатьJSON(ЧтениеJSON)
    
    Если НЕ ЧтениеJSON.Прочитать() Тогда
        Возврат Неопределено;
    КонецЕсли;
    
    Возврат ПрочитатьЗначениеJSON(ЧтениеJSON);
    
КонецФункции

Функция ПрочитатьЗначениеJSON(ЧтениеJSON)
    
    ТипТокена = ЧтениеJSON.ТипТекущегоТокена;
    
    Если ТипТокена = ТипТокенаJSON.НачалоОбъекта Тогда
        Возврат ПрочитатьОбъектJSON(ЧтениеJSON);
        
    ИначеЕсли ТипТокена = ТипТокенаJSON.НачалоМассива Тогда
        Возврат ПрочитатьМассивJSON(ЧтениеJSON);
        
    ИначеЕсли ТипТокена = ТипТокенаJSON.Строка 
        ИЛИ ТипТокена = ТипТокенаJSON.Число 
        ИЛИ ТипТокена = ТипТокенаJSON.Булево 
        ИЛИ ТипТокена = ТипТокенаJSON.Null Тогда
        
        Возврат ЧтениеJSON.ТекущееЗначение;
        
    Иначе
        Возврат Неопределено;
    КонецЕсли;
    
КонецФункции

Функция ПрочитатьОбъектJSON(ЧтениеJSON)
    
    Результат = Новый Структура;
    
    Пока ЧтениеJSON.Прочитать() Цикл
        
        ТипТокена = ЧтениеJSON.ТипТекущегоТокена;
        
        Если ТипТокена = ТипТокенаJSON.КонецОбъекта Тогда
            Прервать;
            
        ИначеЕсли ТипТокена = ТипТокенаJSON.ИмяСвойства Тогда
            ИмяСвойства = ЧтениеJSON.ТекущееЗначение;
            
            Если ЧтениеJSON.Прочитать() Тогда
                ЗначениеСвойства = ПрочитатьЗначениеJSON(ЧтениеJSON);
                
                // Преобразуем имя свойства для совместимости со структурой
                ИмяСвойстваДляСтруктуры = СтрЗаменить(ИмяСвойства, " ", "_");
                ИмяСвойстваДляСтруктуры = СтрЗаменить(ИмяСвойстваДляСтруктуры, "-", "_");
                ИмяСвойстваДляСтруктуры = СтрЗаменить(ИмяСвойстваДляСтруктуры, ".", "_");
                
                Попытка
                    Результат.Вставить(ИмяСвойстваДляСтруктуры, ЗначениеСвойства);
                Исключение
                    // Если имя свойства некорректно для структуры, используем соответствие
                    Если ТипЗнч(Результат) = Тип("Структура") Тогда
                        НовыйРезультат = Новый Соответствие;
                        Для Каждого КлючЗначение Из Результат Цикл
                            НовыйРезультат.Вставить(КлючЗначение.Ключ, КлючЗначение.Значение);
                        КонецЦикла;
                        Результат = НовыйРезультат;
                    КонецЕсли;
                    Результат.Вставить(ИмяСвойства, ЗначениеСвойства);
                КонецПопытки;
            КонецЕсли;
        КонецЕсли;
        
    КонецЦикла;
    
    Возврат Результат;
    
КонецФункции

Функция ПрочитатьМассивJSON(ЧтениеJSON)
    
    Результат = Новый Массив;
    
    Пока ЧтениеJSON.Прочитать() Цикл
        
        ТипТокена = ЧтениеJSON.ТипТекущегоТокена;
        
        Если ТипТокена = ТипТокенаJSON.КонецМассива Тогда
            Прервать;
        Иначе
            ЗначениеЭлемента = ПрочитатьЗначениеJSON(ЧтениеJSON);
            Результат.Добавить(ЗначениеЭлемента);
        КонецЕсли;
        
    КонецЦикла;
    
    Возврат Результат;
    
КонецФункции
```
